{
    "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
    "name": "Zenith",
    "scopeName": "source.zenith",
    "fileTypes": [
        "zen"
    ],
    "patterns": [
        {
            "include": "#comment"
        },
        {
            "include": "#script-block"
        },
        {
            "include": "#style-block"
        },
        {
            "include": "#html-content"
        }
    ],
    "repository": {
        "comment": {
            "patterns": [
                {
                    "name": "comment.block.html.zen",
                    "begin": "<!--",
                    "end": "-->",
                    "captures": {
                        "0": {
                            "name": "punctuation.definition.comment.html.zen"
                        }
                    }
                }
            ]
        },
        "script-block": {
            "name": "meta.embedded.block.javascript.zen",
            "begin": "(<)(script)((?:\\s+[^>]*)?>)",
            "beginCaptures": {
                "1": {
                    "name": "punctuation.definition.tag.begin.html.zen"
                },
                "2": {
                    "name": "entity.name.tag.script.html.zen"
                },
                "3": {
                    "name": "punctuation.definition.tag.end.html.zen"
                }
            },
            "end": "(</)(script)(>)",
            "endCaptures": {
                "1": {
                    "name": "punctuation.definition.tag.begin.html.zen"
                },
                "2": {
                    "name": "entity.name.tag.script.html.zen"
                },
                "3": {
                    "name": "punctuation.definition.tag.end.html.zen"
                }
            },
            "patterns": [
                {
                    "include": "#zenith-script-content"
                }
            ]
        },
        "zenith-script-content": {
            "patterns": [
                {
                    "include": "#zenith-state-declaration"
                },
                {
                    "include": "#zenith-lifecycle-hooks"
                },
                {
                    "include": "#javascript-base"
                }
            ]
        },
        "zenith-state-declaration": {
            "match": "\\b(state)\\s+([a-zA-Z_$][a-zA-Z0-9_$]*)\\s*(=)",
            "captures": {
                "1": {
                    "name": "storage.type.state.zen"
                },
                "2": {
                    "name": "variable.other.readwrite.zen"
                },
                "3": {
                    "name": "keyword.operator.assignment.zen"
                }
            }
        },
        "zenith-lifecycle-hooks": {
            "match": "\\b(zenOnMount|zenOnDestroy|zenOnUpdate|zenEffect|onMount|onDestroy|onUpdate)\\b",
            "name": "support.function.lifecycle.zen"
        },
        "javascript-base": {
            "patterns": [
                {
                    "include": "#js-comments"
                },
                {
                    "include": "#js-strings"
                },
                {
                    "include": "#js-template-literals"
                },
                {
                    "include": "#js-numbers"
                },
                {
                    "include": "#js-keywords"
                },
                {
                    "include": "#js-storage"
                },
                {
                    "include": "#js-operators"
                },
                {
                    "include": "#js-functions"
                },
                {
                    "include": "#js-arrow-functions"
                },
                {
                    "include": "#js-identifiers"
                }
            ]
        },
        "js-comments": {
            "patterns": [
                {
                    "name": "comment.line.double-slash.js.zen",
                    "match": "//.*$"
                },
                {
                    "name": "comment.block.js.zen",
                    "begin": "/\\*",
                    "end": "\\*/"
                }
            ]
        },
        "js-strings": {
            "patterns": [
                {
                    "name": "string.quoted.single.js.zen",
                    "begin": "'",
                    "end": "'",
                    "patterns": [
                        {
                            "name": "constant.character.escape.js.zen",
                            "match": "\\\\."
                        }
                    ]
                },
                {
                    "name": "string.quoted.double.js.zen",
                    "begin": "\"",
                    "end": "\"",
                    "patterns": [
                        {
                            "name": "constant.character.escape.js.zen",
                            "match": "\\\\."
                        }
                    ]
                }
            ]
        },
        "js-template-literals": {
            "name": "string.template.js.zen",
            "begin": "`",
            "end": "`",
            "patterns": [
                {
                    "name": "meta.template.expression.js.zen",
                    "begin": "\\$\\{",
                    "beginCaptures": {
                        "0": {
                            "name": "punctuation.definition.template-expression.begin.js.zen"
                        }
                    },
                    "end": "\\}",
                    "endCaptures": {
                        "0": {
                            "name": "punctuation.definition.template-expression.end.js.zen"
                        }
                    },
                    "patterns": [
                        {
                            "include": "#javascript-base"
                        }
                    ]
                },
                {
                    "name": "constant.character.escape.js.zen",
                    "match": "\\\\."
                }
            ]
        },
        "js-numbers": {
            "match": "\\b(0x[0-9a-fA-F]+|0b[01]+|0o[0-7]+|\\d+(\\.\\d+)?([eE][+-]?\\d+)?)\\b",
            "name": "constant.numeric.js.zen"
        },
        "js-keywords": {
            "match": "\\b(if|else|for|while|do|switch|case|default|break|continue|return|throw|try|catch|finally|new|delete|typeof|instanceof|in|of|void|this|super|class|extends|import|export|from|as|async|await|yield|debugger|with)\\b",
            "name": "keyword.control.js.zen"
        },
        "js-storage": {
            "match": "\\b(var|let|const|function|interface|type|enum|namespace|module|declare|abstract|public|private|protected|static|readonly)\\b",
            "name": "storage.type.js.zen"
        },
        "js-operators": {
            "match": "(===|!==|==|!=|<=|>=|<|>|&&|\\|\\||\\?\\?|\\+\\+|--|\\+=|-=|\\*=|/=|%=|\\*\\*=|=>|\\.\\.\\.|[+\\-*/%&|^~!?:])",
            "name": "keyword.operator.js.zen"
        },
        "js-functions": {
            "match": "\\b([a-zA-Z_$][a-zA-Z0-9_$]*)\\s*(?=\\()",
            "captures": {
                "1": {
                    "name": "entity.name.function.js.zen"
                }
            }
        },
        "js-arrow-functions": {
            "match": "(\\([^)]*\\)|[a-zA-Z_$][a-zA-Z0-9_$]*)\\s*(=>)",
            "captures": {
                "1": {
                    "name": "variable.parameter.js.zen"
                },
                "2": {
                    "name": "storage.type.function.arrow.js.zen"
                }
            }
        },
        "js-identifiers": {
            "match": "\\b(true|false|null|undefined|NaN|Infinity)\\b",
            "name": "constant.language.js.zen"
        },
        "style-block": {
            "name": "meta.embedded.block.css.zen",
            "begin": "(<)(style)((?:\\s+[^>]*)?>)",
            "beginCaptures": {
                "1": {
                    "name": "punctuation.definition.tag.begin.html.zen"
                },
                "2": {
                    "name": "entity.name.tag.style.html.zen"
                },
                "3": {
                    "name": "punctuation.definition.tag.end.html.zen"
                }
            },
            "end": "(</)(style)(>)",
            "endCaptures": {
                "1": {
                    "name": "punctuation.definition.tag.begin.html.zen"
                },
                "2": {
                    "name": "entity.name.tag.style.html.zen"
                },
                "3": {
                    "name": "punctuation.definition.tag.end.html.zen"
                }
            },
            "patterns": [
                {
                    "include": "#css-content"
                }
            ]
        },
        "css-content": {
            "patterns": [
                {
                    "include": "#css-comments"
                },
                {
                    "include": "#css-selectors"
                },
                {
                    "include": "#css-properties"
                }
            ]
        },
        "css-comments": {
            "name": "comment.block.css.zen",
            "begin": "/\\*",
            "end": "\\*/"
        },
        "css-selectors": {
            "patterns": [
                {
                    "match": "\\.[a-zA-Z_-][a-zA-Z0-9_-]*",
                    "name": "entity.other.attribute-name.class.css.zen"
                },
                {
                    "match": "#[a-zA-Z_-][a-zA-Z0-9_-]*",
                    "name": "entity.other.attribute-name.id.css.zen"
                },
                {
                    "match": "\\b([a-zA-Z][a-zA-Z0-9]*)\\b(?=\\s*[{,:])",
                    "name": "entity.name.tag.css.zen"
                },
                {
                    "match": "::[a-zA-Z-]+|:[a-zA-Z-]+",
                    "name": "entity.other.attribute-name.pseudo-class.css.zen"
                }
            ]
        },
        "css-properties": {
            "patterns": [
                {
                    "match": "\\b([a-zA-Z-]+)\\s*:",
                    "captures": {
                        "1": {
                            "name": "support.type.property-name.css.zen"
                        }
                    }
                },
                {
                    "match": "#[0-9a-fA-F]{3,8}\\b",
                    "name": "constant.other.color.rgb-value.css.zen"
                },
                {
                    "match": "\\b(\\d+(\\.\\d+)?)(px|em|rem|%|vh|vw|vmin|vmax|deg|rad|s|ms)?\\b",
                    "name": "constant.numeric.css.zen"
                },
                {
                    "match": "\\b(auto|inherit|initial|unset|none|block|inline|flex|grid|absolute|relative|fixed|sticky)\\b",
                    "name": "support.constant.property-value.css.zen"
                }
            ]
        },
        "html-content": {
            "patterns": [
                {
                    "include": "#zenith-component-tag"
                },
                {
                    "include": "#slot-tag"
                },
                {
                    "include": "#html-tag"
                },
                {
                    "include": "#zenith-expression"
                },
                {
                    "include": "#html-text"
                }
            ]
        },
        "zenith-component-tag": {
            "patterns": [
                {
                    "name": "meta.tag.component.zen",
                    "begin": "(<)([A-Z][a-zA-Z0-9]*)",
                    "beginCaptures": {
                        "1": {
                            "name": "punctuation.definition.tag.begin.html.zen"
                        },
                        "2": {
                            "name": "entity.name.tag.component.zen support.class.component.zen"
                        }
                    },
                    "end": "(/?>)",
                    "endCaptures": {
                        "1": {
                            "name": "punctuation.definition.tag.end.html.zen"
                        }
                    },
                    "patterns": [
                        {
                            "include": "#tag-attributes"
                        }
                    ]
                },
                {
                    "name": "meta.tag.component.close.zen",
                    "match": "(</)(A-Z][a-zA-Z0-9]*)(>)",
                    "captures": {
                        "1": {
                            "name": "punctuation.definition.tag.begin.html.zen"
                        },
                        "2": {
                            "name": "entity.name.tag.component.zen support.class.component.zen"
                        },
                        "3": {
                            "name": "punctuation.definition.tag.end.html.zen"
                        }
                    }
                }
            ]
        },
        "slot-tag": {
            "patterns": [
                {
                    "name": "meta.tag.slot.zen",
                    "match": "(<)(slot)(\\s*/?>)",
                    "captures": {
                        "1": {
                            "name": "punctuation.definition.tag.begin.html.zen"
                        },
                        "2": {
                            "name": "entity.name.tag.slot.zen keyword.control.slot.zen"
                        },
                        "3": {
                            "name": "punctuation.definition.tag.end.html.zen"
                        }
                    }
                }
            ]
        },
        "html-tag": {
            "patterns": [
                {
                    "name": "meta.tag.html.zen",
                    "begin": "(<)([a-z][a-zA-Z0-9-]*)",
                    "beginCaptures": {
                        "1": {
                            "name": "punctuation.definition.tag.begin.html.zen"
                        },
                        "2": {
                            "name": "entity.name.tag.html.zen"
                        }
                    },
                    "end": "(/?>)",
                    "endCaptures": {
                        "1": {
                            "name": "punctuation.definition.tag.end.html.zen"
                        }
                    },
                    "patterns": [
                        {
                            "include": "#tag-attributes"
                        }
                    ]
                },
                {
                    "name": "meta.tag.html.close.zen",
                    "match": "(</)[a-z][a-zA-Z0-9-]*(>)",
                    "captures": {
                        "1": {
                            "name": "punctuation.definition.tag.begin.html.zen"
                        },
                        "2": {
                            "name": "punctuation.definition.tag.end.html.zen"
                        }
                    }
                }
            ]
        },
        "tag-attributes": {
            "patterns": [
                {
                    "include": "#attribute-with-expression"
                },
                {
                    "include": "#attribute-with-string"
                },
                {
                    "include": "#attribute-boolean"
                }
            ]
        },
        "attribute-with-expression": {
            "match": "([a-zA-Z_:][a-zA-Z0-9_:-]*)\\s*(=)\\s*(\\{)([^}]*)(\\})",
            "captures": {
                "1": {
                    "name": "entity.other.attribute-name.html.zen"
                },
                "2": {
                    "name": "punctuation.separator.key-value.html.zen"
                },
                "3": {
                    "name": "punctuation.definition.expression.begin.zen"
                },
                "4": {
                    "name": "meta.embedded.expression.zen",
                    "patterns": [
                        {
                            "include": "#javascript-base"
                        }
                    ]
                },
                "5": {
                    "name": "punctuation.definition.expression.end.zen"
                }
            }
        },
        "attribute-with-string": {
            "match": "([a-zA-Z_:][a-zA-Z0-9_:-]*)\\s*(=)\\s*(\"[^\"]*\"|'[^']*')",
            "captures": {
                "1": {
                    "name": "entity.other.attribute-name.html.zen"
                },
                "2": {
                    "name": "punctuation.separator.key-value.html.zen"
                },
                "3": {
                    "name": "string.quoted.html.zen"
                }
            }
        },
        "attribute-boolean": {
            "match": "\\b([a-zA-Z_:][a-zA-Z0-9_:-]*)\\b(?!=)",
            "name": "entity.other.attribute-name.html.zen"
        },
        "zenith-expression": {
            "name": "meta.embedded.expression.zen",
            "begin": "(\\{)(?!\\{)",
            "beginCaptures": {
                "1": {
                    "name": "punctuation.definition.expression.begin.zen"
                }
            },
            "end": "(\\})",
            "endCaptures": {
                "1": {
                    "name": "punctuation.definition.expression.end.zen"
                }
            },
            "patterns": [
                {
                    "include": "#javascript-base"
                }
            ]
        },
        "html-text": {
            "match": "[^<>{]+",
            "name": "text.html.zen"
        }
    }
}